# mixbench-hip

This is the HIP (AMD ROCm) implementation of mixbench.

## Building notes

For HIP version, the HIP_PATH environment variable should be set to point to HIP installation directory. For more information follow the instructions on the following blog to properly install ROCK and ROCR drivers:  
* ROCm:  
https://github.com/RadeonOpenCompute/ROCm
* HIP:  
https://github.com/GPUOpen-ProfessionalCompute-Tools/HIP

In case you want to retain the kernels' assembly code, you may pass the following parameter:
```
cmake ../mixbench-hip/ -D CMAKE_HIP_FLAGS="-save-temps=obj"
```

## Execution

```
$ ./mixbench-hip
mixbench-hip (v0.04-1-g7a068df)
------------------------ Device specifications ------------------------
Device:              
CUDA driver version: 50221.151
GPU clock rate:      1700 MHz
WarpSize:            64
L2 cache size:       8192 KB
Total global mem:    65520 MB
Total SPs:           6656 (104 MPs x 64 SPs/MP)
Compute throughput:  22630.40 GFlops (theoretical single precision FMAs)
Memory bandwidth:    1638.40 GB/sec
-----------------------------------------------------------------------
Total GPU memory 68702699520, free 68702699520
Buffer size:          256MB
Trade-off type:       compute with global memory (block strided)
Elements per thread:  8
Thread fusion degree: 1
----------------------------------------------------------------------------- CSV data -------------------------------------------------------------------------------------------------------------------
Experiment ID, Single Precision ops,,,,              Packed Single Precision ops,,,,       Double precision ops,,,,              Half precision ops,,,,                Integer operations,,, 
Compute iters, Flops/byte, ex.time,  GFLOPS, GB/sec, Flops/byte, ex.time,  GFLOPS, GB/sec, Flops/byte, ex.time,  GFLOPS, GB/sec, Flops/byte, ex.time,  GFLOPS, GB/sec, Iops/byte, ex.time,   GIOPS, GB/sec
            0,      0.250,    0.10,  350.12,1400.46,      0.250,    0.18,  363.14,1452.57,      0.125,    0.19,  180.48,1443.83,      0.500,    0.10,  697.89,1395.78,     0.250,    0.10,  352.47,1409.86
            1,      0.750,    0.10, 1052.08,1402.78,      0.750,    0.18, 1097.99,1463.99,      0.375,    0.18,  549.00,1463.99,      1.500,    0.10, 2097.15,1398.10,     0.750,    0.10, 1055.61,1407.48
            2,      1.250,    0.10, 1753.49,1402.79,      1.250,    0.18, 1823.61,1458.89,      0.625,    0.19,  904.73,1447.57,      2.500,    0.10, 3501.09,1400.44,     1.250,    0.10, 1753.47,1402.78
            3,      1.750,    0.10, 2442.61,1395.78,      1.750,    0.18, 2555.29,1460.17,      0.875,    0.18, 1273.21,1455.10,      3.500,    0.10, 4901.52,1400.44,     1.750,    0.10, 2458.97,1405.13
            4,      2.250,    0.10, 3130.08,1391.15,      2.250,    0.18, 3279.66,1457.63,      1.125,    0.19, 1629.91,1448.81,      4.500,    0.10, 6291.52,1398.12,     2.250,    0.10, 3172.16,1409.85
            5,      2.750,    0.10, 3870.58,1407.48,      2.750,    0.18, 4015.46,1460.17,      1.375,    0.18, 2009.48,1461.44,      5.500,    0.10, 7664.01,1393.46,     2.750,    0.10, 3851.20,1400.44
            6,      3.250,    0.10, 4506.28,1386.55,      3.250,    0.18, 4766.28,1466.55,      1.625,    0.18, 2387.30,1469.11,      6.500,    0.10, 9072.63,1395.79,     3.250,    0.10, 4536.27,1395.78
            7,      3.750,    0.10, 5251.63,1400.44,      3.750,    0.18, 5466.11,1457.63,      1.875,    0.18, 2723.59,1452.58,      7.500,    0.10,10433.59,1391.15,     3.750,    0.10, 5234.21,1395.79
            8,      4.250,    0.10, 5922.19,1393.46,      4.250,    0.18, 6205.71,1460.17,      2.125,    0.18, 3100.14,1458.89,      8.500,    0.10,11785.77,1386.56,     4.250,    0.10, 5932.04,1395.78
            9,      4.750,    0.10, 6641.05,1398.12,      4.750,    0.18, 6966.06,1466.54,      2.375,    0.18, 3480.01,1465.27,      9.500,    0.10,13194.00,1388.84,     4.750,    0.10, 6542.91,1377.45
           10,      5.250,    0.10, 7376.92,1405.13,      5.250,    0.18, 7712.86,1469.12,      2.625,    0.18, 3853.04,1467.82,     10.500,    0.10,14631.45,1393.47,     5.250,    0.10, 7046.43,1342.18
           11,      5.750,    0.10, 7999.17,1391.16,      5.750,    0.18, 8388.61,1458.89,      2.875,    0.18, 4205.30,1462.71,     11.500,    0.10,15918.98,1384.26,     5.750,    0.11, 7330.54,1274.88
           12,      6.250,    0.10, 8738.13,1398.10,      6.250,    0.19, 9047.30,1447.57,      3.125,    0.18, 4559.05,1458.90,     12.500,    0.10,17360.53,1388.84,     6.250,    0.11, 7710.12,1233.62
           13,      6.750,    0.10, 9374.78,1388.86,      6.750,    0.18, 9881.87,1463.98,      3.375,    0.18, 4940.96,1463.99,     13.500,    0.10,18444.01,1366.22,     6.750,    0.12, 7853.41,1163.47
           14,      7.250,    0.10,10035.88,1384.26,      7.250,    0.18,10540.34,1453.84,      3.625,    0.18, 5288.50,1458.90,     14.500,    0.10,20104.93,1386.55,     7.250,    0.12, 8034.07,1108.15
           15,      7.750,    0.10,10853.37,1400.44,      7.750,    0.18,11326.14,1461.44,      3.875,    0.18, 5677.88,1465.26,     15.500,    0.10,21385.65,1379.72,     7.750,    0.13, 8167.30,1053.85
           16,      8.250,    0.10,11534.46,1398.12,      8.250,    0.18,12067.31,1462.70,      4.125,    0.18, 6033.69,1462.71,     16.500,    0.10,22840.27,1384.26,     8.250,    0.13, 8328.10,1009.47
           17,      8.750,    0.10,12213.03,1395.78,      8.750,    0.18,12843.52,1467.83,      4.375,    0.18, 6467.02,1478.18,     17.500,    0.10,23947.90,1368.45,     8.750,    0.14, 8475.79, 968.66
           18,      9.250,    0.10,12783.30,1381.98,      9.250,    0.18,13541.89,1463.99,      4.625,    0.18, 6794.63,1469.11,     18.500,    0.10,25275.38,1366.24,     9.250,    0.15, 8555.09, 924.87
           20,     10.250,    0.10,14118.90,1377.45,     10.250,    0.18,15098.02,1472.98,      5.125,    0.18, 7470.35,1457.63,     20.500,    0.10,26869.76,1310.72,    10.250,    0.16, 8764.91, 855.11
           22,     11.250,    0.10,15624.48,1388.84,     11.250,    0.18,16629.49,1478.18,      5.625,    0.18, 8307.43,1476.88,     22.500,    0.11,28170.70,1252.03,    11.250,    0.17, 8844.65, 786.19
           24,     12.250,    0.10,16845.98,1375.18,     12.250,    0.18,18059.93,1474.28,      6.125,    0.18, 8966.93,1463.99,     24.500,    0.11,29193.31,1191.56,    12.250,    0.18, 9014.12, 735.85
           28,     14.250,    0.10,18390.41,1290.56,     14.250,    0.19,20381.64,1430.29,      7.125,    0.19,10269.56,1441.34,     28.500,    0.12,30690.03,1076.84,    14.250,    0.21, 9202.33, 645.78
           32,     16.250,    0.11,19390.45,1193.26,     16.250,    0.19,23442.07,1442.59,      8.125,    0.19,11571.78,1424.22,     32.500,    0.14,31886.52, 981.12,    16.250,    0.23, 9343.08, 574.96
           40,     20.250,    0.13,20945.66,1034.35,     20.250,    0.20,27824.62,1374.06,     10.125,    0.20,13844.35,1367.34,     40.500,    0.16,33307.91, 822.42,    20.250,    0.29, 9532.54, 470.74
           48,     24.250,    0.15,21733.31, 896.22,     24.250,    0.21,30452.80,1255.79,     12.125,    0.21,15422.65,1271.97,     48.500,    0.19,34595.87, 713.32,    24.250,    0.34, 9714.66, 400.60
           56,     28.250,    0.17,22569.35, 798.92,     28.250,    0.23,32619.30,1154.67,     14.125,    0.23,16365.97,1158.65,     56.500,    0.21,35609.21, 630.25,    28.250,    0.39, 9792.51, 346.64
           64,     32.250,    0.19,23043.79, 714.54,     32.250,    0.26,33859.03,1049.89,     16.125,    0.25,17420.07,1080.31,     64.500,    0.24,36288.75, 562.62,    32.250,    0.45, 9566.24, 296.63
           80,     40.250,    0.23,23912.39, 594.10,     40.250,    0.30,35938.54, 892.88,     20.125,    0.30,17969.27, 892.88,     80.500,    0.30,36383.90, 451.97,    40.250,    0.55, 9735.95, 241.89
           96,     48.250,    0.26,24456.31, 506.87,     48.250,    0.35,36728.81, 761.22,     24.125,    0.35,18372.79, 761.57,     96.500,    0.35,37304.29, 386.57,    48.250,    0.66, 9828.84, 203.71
          128,     64.250,    0.45,19324.86, 300.78,     64.250,    0.46,37260.23, 579.93,     32.125,    0.46,18772.92, 584.37,    128.500,    0.45,38360.80, 298.53,    64.250,    0.87, 9955.10, 154.94
          256,    128.250,    0.85,20184.64, 157.39,    128.250,    0.88,39071.82, 304.65,     64.125,    0.88,19660.84, 306.60,    256.500,    0.86,40188.33, 156.68,   128.250,    1.69,10164.80,  79.26
          512,    256.250,    1.66,20679.06,  80.70,    256.250,    1.72,40037.03, 156.24,    128.125,    1.71,20140.43, 157.19,    512.500,    1.67,41195.62,  80.38,   256.250,    3.35,10279.21,  40.11
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
```

